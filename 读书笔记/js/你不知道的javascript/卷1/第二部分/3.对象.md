### 语法

- 文字语法（{}字面量）
- 构造函数

### 内容

- 对象中，属性名永远是字符串

#### 可计算属性名

```
{
	[1+1]: 1
}
```

#### 数组

- 如果属性名可以转为数字，则存入数组时会被转为数字
- length属性值是数组数字属性最大值+1

### 复制对象

- 深拷贝
- 浅拷贝
  - Object.assign 遍历源对象的可枚举的自有键 并通过=操作符进行复制到目标对象上
    - 第一个参数是目标对象，后面是一个或者多个源对象
    - 源对象属性的属性描述符特性不会被复制到目标对象上

### 不变性

1. 对象常量   设置writable和configurable为false
2. 禁止扩展   Object.preventExtensions()    禁止对象添加新属性并保留已有属性
3. 密封   Object.seal()  创建一个“密封”对象，实际上就是在先有对象上调用prevebrExtebsions并将所有属性标为configurable为false
   1. 不可添加心属心
   2. 不可重新配置或删除属性
4. 冻结  Object.freeze() 创建一个冻结对象 实际上是调用seal并将所有数据访问属性标为writable为false

### 属性描述符

- writable  是否可修改
- configurable   是否可配置  为true 则可以用defineProperty进行修改属性描述符
  - 设为false
    - 是单向不可逆操作
    - 此状态下还是可以将writable由true设为false的，只是不能false改为true
    - 会禁止删除属性操作（静默失败）
- Enumerable   是否可枚举，普通属性默认是true，即在for in 中可以出现

### [[Get]]操作

- 首先在对象中查找是否有名称相同的属性，找到则返回
- 若无，遍历可能存在的原型链
- 再无，返回undefined

### [[Put]]

1. 属性是否有访问描述符（setter），有则调用
2. 属性描述符writable是否为true，false则失败
3. 以上通过则直接赋值

### Getter和Setter

```
var myObject = { 
// 给 a 定义一个 getter get a() { return 2; } 
};
Object.defineProperty( 
	myObject, // 目标对象 
	"b", // 属性名
	{ // 描述符 // 给 b 设置一个 getter get: function(){ return this.a * 2 }, // 确保 b 会出现在对象的属性列表中 enumerable: true } ); 
	myObject.a; // 2 
	myObject.b; // 4

```

### 存在性

```
怎么区分是属性值为undefine还是对象没有这个属性而返回undefine
```

- [name] in obj   会检查[name]属性在obj及其原型链上是否存在，返回true/false
- hasOwnProperty    只检查对象上是否存在属性

##### 枚举

- for in 会循环遍历本身及原型上的所有可枚举属性

  ```javascript
  var obj1 = {a:1}
  var obj = {b:2}
  obj.__proto__ = obj1
  for (var key in obj ) {console.log(key)}
  // b
  // a
  Object.keys(obj)
  // ["b"]
  ```

- Object.keys()  返回一个包含所有对象本身的可枚举属性的数组（不包含原型链）

- Object.getOwnPropertyNames()  返回对象自身的所有属性（不包含原型链）

- Object.propertyIsEnumerable()   检查给定属性名是否存在于对象（不包含原型链）中并满足enymerable:true

```
q: 如何获取到对象及原型链上所有的可枚举属性
a：可以递归遍历某个对象的整条 [[Prototype]] 链并保存每一层中使用 Object.keys(..) 得到的属性列表——只包含可枚举属性。
```

```
整理

```



##### 遍历

|            |                    特点                    | 是否相关原型 |
| :--------- | :----------------------------------------: | :----------: |
| each       |              会忽略回调返回值              |              |
| some/every | 有中断效果，回调返回遇到true/false循环终止 |              |
| for in     |        常用于对象，数组有原型链问题        |      是      |
| for of     |         遍历迭代器对象，常用于数组         |              |







### 特殊点

- typeof null 会返回'object' : 因为typeof进行判断时，如果底层的前三位为0，则判断为object  而null的二进制全为0，故有异常结果；